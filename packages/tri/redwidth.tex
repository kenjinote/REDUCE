\relax
% ---------------------------------------------------------------------
% Interactive module for retrieving width information for T.R.I.
% ---------------------------------------------------------------------
\newbox\testbox\newcount\xxx\newif\ifOK
\def\widthof#1{\message{width is: }
\wwidthof{$\displaystyle#1$}
\wwidthof{$\scriptstyle#1$}
\wwidthof{$\scriptscriptstyle#1$}}
\def\wwidthof#1{\setbox\testbox=\hbox{#1}
\xxx=\wd\testbox\message{[\the\wd\testbox=\the\xxx sp]}}
\def\endloop{end }
\loop\message{Type in TeX item or say 'end': }
  \read-1 to\answer
  \ifx\answer\endloop\OKfalse\else\OKtrue\fi
  \ifOK\widthof{\answer}
\repeat
\end
